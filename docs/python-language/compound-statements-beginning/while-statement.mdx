---
sidebar_position: 2
---

import CodeBlock from '@theme/CodeBlock';
import while_statement_1 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_1.py';
import while_statement_2 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_2.py';
import while_statement_3 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_3.py';
import while_statement_4 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_4.py';
import while_statement_5 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_5.py';
import while_statement_6 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_6.py';
import while_statement_7 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_7.py';
import while_statement_8 from '!!raw-loader!/static/examples/python-language/compound-statements-beginning/while-statement/while_statement_8.py';

# Цикл while

Предположим, что у нас возникла задача, в которой требуется выполнить какой-то алгоритм более одного раза подряд в зависимости от какого-то условия. Как можно выразить на языке Python решение такой задачи? Можно записать алгоритм несколько раз, используя условную конструкцию `if`, а можно воспользоваться циклом `while`.

Подобно условной конструкции `if`, цикл `while` содержит условие, обозначенное ключевым словом `while` (от английского «while» — «пока, в то время как») и логический блок кода, в некоторых языках называемый телом цикла. Логический блок кода оформляется отступом, который равен четырём пробелам.

Цикл `while` работает по алгоритму: если выполняется заданное условие (то есть если преобразование к булеву типу заданного выражения возвращает ссылку на константу `True`) — выполнить тело цикла. После выполнения тела цикла вернуться к проверке заданного условия. Если условие выполняется — ещё раз выполнить тело цикла. И так повторять до бесконечности, пока выполняется условие. Однократное выполнение тела цикла называется **итерацией**.

<CodeBlock language="python" title="while_statement_1.py" showLineNumbers>{while_statement_1}</CodeBlock>

Рассмотрим пример 1, иллюстрирующий два способа выполнить один и тот же алгоритм несколько раз.

Первый способ: объявление несколько раз условной конструкцию `if`.

На строке 4 объявляется переменная `a`, равная единице. На строках с 5 по 16 четыре раза выполняется один и тот же алгоритм:

- проверить, является ли условие `a < 5` истинным. Если является:
- вывести строковое представление `a`;
- увеличить `a` на единицу.

Как мы видим, многократная запись одного алгоритма имеет недостаток: если нужно выполнить много раз, однотипного кода будет неоправданно много. Если заранее неизвестно, сколько раз надо выполнить код — этим способом выполнить такую задачу становится невозможно.

Второй способ, лишённый этого недостатка: использование цикла `while`.

На строке 19 объявлена переменная `i`, равная единице.

На строке 21 объявлен цикл `while` с таким же условием, как и приведённая выше конструкция `if`.

Цикл выполняется следующим образом: выполняется проверка, истинно ли выражение `i < 5`. Так как `i` перед выполнением цикла равно `1`, выражение истинно, и выполняется первая итерация: выводится строковое представление переменной `i`, а затем значение `i` увеличивается на единицу, в результате чего `i` становится равной `2`.

После выполнения тела цикла (строки 22 — 23) выполняется повторная проверка на истинность выражения `i < 5`. Поскольку `i` теперь равно `2`, выражение тоже истинно. Ещё раз выполняется тело цикла (вторая итерация), в результате чего `i` становится равной `3`.

После выполнения второй итерации опять выполняется проверка. Выражение `i < 5` по-прежнему возвращает `True`. Выполняется третья итерация. В результате выполнения третьей итерации переменная `i` становится равной `4`.

Опять выполняется проверка. Выражение `i < 5` по-прежнему истинно. Выполняется четвёртая итерация. В результате `i` становится равной `5`.

Ещё раз выполняется проверка. Поскольку `i` равно `5`, выражение `i < 5` возвращает `False`, логический блок кода не выполняется и цикл завершается.

## Конструкция `while` — `else` {#while-else-statement}

Подобно условной конструкции `if`, цикл `while` в Python может включать в себя инструкцию `else`. Она имеет тот же смысл, что в конструкции `if`, но для её понимания нужно учитывать, что конструкция `while` — это цикл. В конструкции `if` логический блок кода, следующий за ключевым словом `else`, выполняется, если проверки всех условий `if` и `elseif` вернули `False`. В цикле `while` проверка выполнения условия может много раз вернуть `True`, а последняя проверка вернёт `False`, и тогда выполнится логический блок кода, относящийся к условию `else`.

<CodeBlock language="python" title="while_statement_2.py" showLineNumbers>{while_statement_2}</CodeBlock>

В примере 2 на строке 3 объявлена переменная `i`, равная единице. На строках с 5 по 9 объявлен цикл `while` с условием `i < 5`. Четыре раза проверка истинности условия возвращает `True`, и выполняется четыре итерации цикла. Во время пятой проверки возвращается `False`, и выполняется логический блок кода, относящийся условию `else`.

## Оператор `break`: прерывание выполнения цикла {#break-statement}

В Python предусмотрена возможность прерывания выполнения цикла `while`. Для этого используется оператор `break` (от английского «break» — «прерывать; размыкать; разъединять; ломать»). Оператор `break` используется, когда нужно завершить выполнение цикла в зависимости от какого-то условия: в теле цикла объявляется конструкция `if`, а внутри неё записывается инструкция `break`.

Выполнение логического блока кода, следующего за ключевым словом `else`, зависит от того, будет или не будет прервано выполнение цикла вызовом оператора `break`. Если во время выполнения логического блока кода был вызван оператор `break` — логический блок кода, относящийся к условию `else`, не будет выполнен. И наоборот: если проверка условия `while` возвратила `False` (вне зависимости от того, была ли выполнена хоть одна итерация) — выполняется логический блок кода, относящийся к условию `else`.

<CodeBlock language="python" title="while_statement_3.py" showLineNumbers>{while_statement_3}</CodeBlock>

В примере 3 цикл `while` прерывается на строке 8 во время выполнения третьей итерации, когда проверка `i == 3` возвратит `True`. Условие `else` не будет выполнено, поскольку последняя проверка условия `while` перед запуском третьей итерации возвращала `True`.

:::info внимание

Если цикл объявлен внутри функции, и в теле цикла объявлена инструкция `return`, возвращающая управление за пределы функции, при выполнении инструкции `return` цикл прерывается, как если бы был вызван оператор `break`.

:::

## Оператор `continue`: прерывание текущей итерации и возвращение к проверке условия `while` {#continue-statement}

В Python также предусмотрена возможность прервать текущую итерацию, продолжив выполнение цикла со следующей проверки условия `while`. Для этого используется оператор `continue` (от английского «continue» — «продолжать»).

<CodeBlock language="python" title="while_statement_4.py" showLineNumbers>{while_statement_4}</CodeBlock>

В примере 4 на строке 3 объявлена переменная `i`, равная нулю (в отличие от предыдущих примеров где `i` была равна единице). Это сделано для того, чтобы увеличивать `i` на единицу до проверки условия `i == 3`. На третьей итерации проверка этого условия вернёт `True`, и выполнится объявленный на строке 8 оператор `continue`, прерывающий выполнение логического блока кода. Поэтому цифра `3` не будет выведена. После выполнения условия `while` (пять итераций) выполнится условие `else`, после чего цикл завершится.

В отличие от примеров 1 и 2, где с аналогичным условием `i < 5` выполнились четыре итерации выполнялось по четыре итерации, в примере 4 выполнится пять итераций, поскольку начальное значение `i` равно нулю, а не единице, как в предыдущих примерах.

:::info внимание

Увеличение `i` на единицу в примере 4 происходит до проверки условия `i == 3`, потому что иначе, если бы увеличение `i` на единицу происходило после проверки, во время выполнения третьей итерации выполнился бы оператор `continue`, и `i` бы не увеличилось. На каждой следующая итерации проверка условия `i == 3` возвращала бы `True`, и цикл выполнялся бы бесконечно.

:::

<CodeBlock language="python" title="while_statement_5.py" showLineNumbers>{while_statement_5}</CodeBlock>

Пример 5 иллюстрирует, как можно ошибочно запустить бесконечный цикл. На строках 7 и 8 объявлена условная конструкция `if i == 3` с оператором `continue` в теле условной конструкции. На строке 9 (после условной конструкции и оператора `continue`) объявлена инструкция, увеличивающая `i` на единицу. Если раскомментировать строки 8 и 9, цикл `while` будет выполняться бесконечно, так кака на третьей и всех последующих итерациях выполнение цикла будет возвращаться к проверке условия `while`, и инструкция `i += 1` не сможет быть выполнена.

## Условие `while True`: бесконечный цикл {#while-true-condition-infinite-loop}

Если требуется выполнять какой-то алгоритм неизвестное количество раз, можно воспользоваться циклом `while` с проверкой, которая всегда будет возвращать `True`. Прервать выполнение программы можно с клавиатуры, нажав комбинацию клавиш `Ctrl+C`, которая возбудит исключение типа `KeyboardInterrupt`, и скрипт будет остановлен (так можно прервать любую программу, не только программу с бесконечным циклом). Также в теле цикла можно задать условие, по которому выполнится инструкция `break`, прерывающая цикл.

<CodeBlock language="python" title="while_statement_6.py" showLineNumbers>{while_statement_6}</CodeBlock>

В примере 6 на строке 4 из модуля `time` стандартной библиотеки Python импортируется функция `sleep()`. На строке 8 объявлен бесконечный цикл `while`. На строке 10 объявлено условие выхода из цикла. На строке 13 вызов функции `sleep(1)` приостанавливает выполнение программы на одну секунду. После запуска скрипта можно дождаться, пока выполнится десять итераций, а можно нажать клавиши `Ctrl+C` завершить программу, не дожидаясь выхода из цикла.

## Цикл в цикле {#nested-loop}

Часто возникают ситуации, когда на каждой итерации цикла нужно запускать ешё один цикл с обработкой данных. Пример 7 является упрощённой демонстрацией цикла в цикле.

<CodeBlock language="python" title="while_statement_7.py" showLineNumbers>{while_statement_7}</CodeBlock>

В примере 7 объявлено два цикла: внешний на строке 5 и внутренний на строке 10.

На строке 3 объявлены переменные `i = 1`, которая будет увеличиваться на каждой итерации внешнего цикла, и `k = 0`, значение которой надо вычислить.

На строке 7 выполняется проверка, является ли `i` чётным числом. Если `i` — чётное число — запускается внутренний цикл, на каждой итерации которого `k` увеличивается на `i`.

:::info внимание

Начальное значение `j = 1` во время выполнения задаётся каждый раз перед выполнением внутреннего цикла. Если закомментировать строку 8, а переменную `j` объявить на строке 3, внутренний цикл выполнится только один раз, и после выполнения внешнего цикла `k` будет равно `10`.

:::

## Дополнительные ссылки {#additional-links}

- [Цикл (программирование)](https://ru.wikipedia.org/wiki/Цикл_(программирование))
- [Итерация (программирование)](https://ru.wikipedia.org/wiki/Итерация_(программирование))
- [Счётчик цикла](https://ru.wikipedia.org/wiki/Счётчик_цикла)
