---
sidebar_position: 7
---

# Операторы

## Общая информация {#common-information}

В последнем примере предыдущей главы было продемонстрировано совместное использование операторов сравнения и логических операторов в управляющей конструкции `if`. Совместное использование нескольких операторов в одном выражении возможно благодаря тому, что операторы в языках программирования имеют такую характеристику, как приоритет.

**Оператор** — один из элементов выражения, выполняющий какое-то действие (операцию) с другими частями выражения (операндами).

Операторы объединяются в группы по характеру операций, которые они выполняют.

Разные типы объектов поддерживают разные наборы операций, поэтому операторы применяются только к тем типам объектов, котные поддерживают операции реализуемые

Группы операторов применяются к разным типам объектов. Разные группы операторов могут работать с разными типами объектов.

Операторы в таблице упорядочены по убыванию приоритета — от высшего приоритета к низшему. Все операторы в одной ячейке имеют одинаковый приоритет.

### Таблица 1. Приоритет операций {#table-1-operator-precedence}

| Приоритет | Тип       | Операция | Описание | Примечания |
| --------- | --------- | -------- | ----- -- | ---------- |
| 1         | унарный   | `(expressions...)`, `[expressions...]`, `{key: value...}`, `{expressions...}` | Выражение в скобках, литерал списка, литерал словаря, литерал множества | |
| 2         | унарный   | `x[index]`, `x[index:index]`, `x(arguments...)`, `x.attribute` | Обращение к элементу, взятие среза, вызов функции/метода, ссылка на атрибут объекта | |
| 3         | унарный   | `await x` | Выражение `Await` | |
| 4         | бинарный  | `**` | Возведение в степень | 1 |
| 5         | унарный   | `+x`, `-x`, `~x` | Унарный плюс, унарный минус, побитовое НЕ | |
| 6         | бинарный  | `*`, `@`, `/`, `//`, `%` | Умножение, умножение матриц, деление, целочисленное деление, остаток от деления | 2 |
| 7         | бинарный  | `+`, `-` | Сложение и вычитание | |
| 8         | бинарный  | `<<`, `>>` | Арифметические битовые сдвиги | |
| 9         | бинарный  | `&` | Побитовое И | |
| 10        | бинарный  | `^` | Побитовое исключающее ИЛИ | |
| 11        | бинарный  | <code>&#124;</code> | Побитовое ИЛИ | |
| 12        | бинарный  | `in`, `not in`, `is`, `is not`, `<`, `<=`, `>`, `>=`, `!=`, `==` | Операторы сравнения, включая операторы принадлежности и идентичности | |
| 13        | унарный   | `not x` | Логическое НЕ | |
| 14        | бинарный  | `and` | Логическое И | |
| 15        | бинарный  | `or` | Логическое ИЛИ | |
| 16        | тернарный | `if` – `else` | Условная конструкция | |
| 17        | унарный   | `lambda` | Лямбда-выражение | |
| 18        | бинарный  | `=`, `:=`, `+=`, `-=`, `*=`, `**=`, `/=`, `//=`, `%=`, `@=`, `<<=`, `>>=`, `&=`, <code>&#124;=</code>, `^=` | Операторы | |

## Арифметические операторы `+`, `-`, `*`, `/`, `//`, `%`, `**`, `@` {#arithmetic-operators}

### Таблица 2. Арифметические операторы {#table-2-arithmetic-operators}

| Операция | Название                            | Результат                                         | Примечания |
| -------- | ----------------------------------- | ------------------------------------------------- | ---------- |
| `x + y`  | Сложение                            | Сумма `x` и `y`                                   |            |
| `x - y`  | Вычитание                           | Разность между `x` и `y`                          |            |
| `x * y`  | Умножение                           | Произведение `x` и `y`                            |            |
| `x / y`  | Деление                             | Частное от `x` и `y`                              |            |
| `x // y` | Взятие неполного частного           | Неполное частное от деления с остатком `x` на `y` | 1          |
| `x % y`  | Взятие остатка                      | Остаток от деления с остатком `x` на `y`          | 2          |
| `-x`     | Смена знака (унарный минус)         | `x` с противоположным знаком                      |            |
| `+x`     | Отсутствие изменений (унарный плюс) | `x` без изменений                                 | 3          |
| `x ** y` | Возведение в степень                | `x` в степени `y`                                 | 4          |
| `x @ y`  | Умножение матриц                    | Произведение матриц `x` и `y`                     | 5          |

### Примечания к таблице 2 {#notes-to-table-2}

1. Также называется целочисленным делением. Результирующее значение — целое число, хотя тип результата не обязательно должен быть `int`. Результат всегда округляется до минус бесконечности: `1//2` равно `0`, `(-1)//2` равно `-1`, `1//(-2)` равно `-1`, `(-1)//(-2)` равно `0`.
2. Не работает с комплексными числами. Если нужно применять эту операцию к комплексным числам, их следует преобразовать в числа с плавающей точкой, используя встроенную функцию `abs()`.
3. Унарный плюс не имеет какого-либо эффекта при работе с числами, за исключением округления чисел типа `decimal` (числа с заданной точностью). При операциях с числами типа `decimal` операция `+x` округляет числа так, что в общей сложности получаются числа с 28 разрядами вне зависимости т того, сколько разрядов остаётся в дробной части.
4. Результат операции `0 ** 0` и `pow(0, 0)` (встроенная функция возведения в степень) равен `1`, как принято в языках программирования.
5. Оператор `@` выполняет операцию умножения матриц. Матрицы не относятся к стандартным типам данных Python. Операции с матрицами реализованы в библиотеке для научных вычислений [NumPy](https://numpy.org/). Оператор `@` добавлен в Python для упрощения работы с матрицами в NumPy.

## Побитовые операторы `|`, `^`, `&`, `<<`, `>>`, `~` {#bitwise-operators}

### Таблица 3. Побитовые операции над целыми числами {#table-3-bitwise-operators}

| Операция                | Название                            | Результат                              | Примечания |
|-------------------------|-------------------------------------|----------------------------------------|------------|
| <code>x &#124; y</code> | Побитовое ИЛИ                       | Побитовое ИЛИ от `x` и `y`             | 4          |
| `x ^ y`                 | Побитовое исключающее ИЛИ           | Побитовое исключающее ИЛИ от `x` и `y` | 4          |
| `x & y`                 | Побитовое И                         | Побитовое И от `x` и `y`               | 4          |
| `x << n`                | Арифметический битовый сдвиг влево  | `x`, сдвинутое влево на `n` бит        | 1, 2       |
| `x >> n`                | Арифметический битовый сдвиг вправо | `x`, сдвинутое вправо на `n` бит       | 1, 3       |
| `~x`                    | Побитовое НЕ                        | Инвертированные биты от `x`            | 5          |

### Примечания к таблице 3 {#notes-to-table-3}

1. Отрицательный сдвиг недопустим и возбуждает ошибку типа `ValueError`.
2. Арифметический битовый сдвиг влево на `n` бит эквивалентен умножению на `2` в степени `n`, то есть результат операции `x << n` равен выражению `x * (2 ** n)`.
3. Арифметический битовый сдвиг вправо на `n` эквивалентен взятию неполного частного от `2` в степени `n`, то есть результат операции `x >> n` равен выражению `x // (2 ** n)`.
4. Операция выполняет действие, соответствующее логической операции из булевой алгебры с этим же названием, но применяется к каждой паре битов, стоящих на одинаковых позициях в двоичных представлениях операндов.
5. Действие этой операции эквивалентно смене знака, применённой к выражению `x + 1`, то есть результат операции `~x` равен выражению `-(x+1)`.

## Операторы присваивания {#assignment-operators}

### Таблица 4. Операторы присваивания {#table-4-assignment-operators}

| Операция                 | Результат                                                     |
|--------------------------|---------------------------------------------------------------|
| `x = y`                  | `x` равен `y`                                                 |
| `(x := y)`               | `x` равен `y`                                                 |
| `x += y`                 | `x` равен сумме `x` и `y`                                     |
| `x -= y`                 | `x` равен разности `x` и `y`                                  |
| `x *= y`                 | `x` равен произведению `x` и `y`                              |
| `x /= y`                 | `x` равен частному от деления `x` на `y`                      |
| `x //= y`                | `x` равен неполному частному от деления с остатком `x` на `y` |
| `x %= y`                 | `x` равен остатку от деления с остатком `x` на `y`            |
| `x **= y`                | `x` равен `x` в степени `y`                                   |
| <code>x &#124;= y</code> | `x` равен побитовому ИЛИ от `x` и `y`                         |
| `x ^= y`                 | `x` равен побитовому исключающего ИЛИ от `x` и `y`            |
| `x &= y`                 | `x` равен побитовому И от `x` и `y`                           |
| `x <<= n`                | `x` равен `x`, сдвинутому влево на `n` бит                    |
| `x >>= n`                | `x` равен `x`, сдвинутому вправо на `n` бит                   |
| `x @= y`                 | `x` равен произведению матриц `x` и `y`                       |

## Операторы сравнения `<`, `<=`, `>`, `>=`, `==`, `!=` {#comparison-operators}

### Таблица 5. Операторы сравнения  {#table-5-comparison-operators}

| Оператор | Описание         |
| ---------| -----------------|
| `<`      | Меньше           |
| `<=`     | Меньше или равно |
| `>`      | Больше           |
| `>=`     | Больше или равно |
| `==`     | Равно            |
| `!=`     | Не равно         |

Операторы сравнения возвращают ссылку на объект `True` или `False` в зависимости от того, выполняется условие или нет.

## Операторы идентичности `is`, `is not` {#identity-operators}

### Таблица 6. Операторы идентичности {#table-6-identity-operators}

| Оператор | Описание             |
| ---------| ---------------------|
| `is`     | Объекты идентичны    |
| `is not` | Объекты не идентичны |

Чтобы выполнять проверки идентичности сравниваемых объектов, в Python применяются операторы `is` и `is not`.

## Логические (булевы) операторы `and`, `or` и `not` {#logical-boolean-operators}

### Таблица 7. Операция `a and b` {#table-7-a-and-b-operation}

| `a`     | `a and b` |
| ------- | --------- |
| `False` | `a`       |
| `True`  | `b`       |

### Таблица 8. Операция `a or b` {#table-8-a-or-b-operation}

| `a`     | `a or b` |
| ------- | -------- |
| `False` | `b`      |
| `True`  | `a`      |

### Таблица 9. Операция `not a` {#table-9-not-a-operation}

| `a`     | `not a` |
| ------- | ------- |
| `False` | `True`  |
| `True`  | `False` |
